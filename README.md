
## API "ИГРА В ЖИЗНЬ" v0.1 

### Что это такое?

Игра в жизнь - клеточный автомат, придуманный английским **математиком Джоном Конвеем** в **1970** году. Это игра без игроков, в которой человек взаимодействует с полем посредством изменения состояния клеток.

![game](https://yastatic.net/s3/lyceum/content/go/images/gun.gif)

### Описание игры
Игра проходит на двумерной сетке. Клетки в этой сетке либо мертвы, либо живы. По правилам на каждом шаге клетки оживают, умирают или никак не меняют свое состояние.

### Правила игры

Каждый шаг игра проверяет, где на поле находятся клетки:

- живая клетка с двумя или тремя соседями продолжает жить
- мёртвая клетка с тремя соседями оживает
- живая клетка погибает, а мёртвая остаётся мёртвой, если у них больше трёх или меньше двух соседей 

Например:

![rules0](https://yastatic.net/s3/lyceum/files/8db5700a-422a-40e2-b53e-58d0f349e800/upload.svg)

Несмотря на простые правила, в игре регулярно возникают новые, непохожие друг на друга состояния клеток.

Некоторые из них остаются стабильными и никак не меняются. Эти узоры называют «натюрмортами». Проще всего узнать «натюрморт» в квадрате два на два. Если он появился с начала игры или возник в процессе эволюции, то будет существовать всю дальнейшую игру без изменений:

![rules1](https://yastatic.net/s3/lyceum/files/ece826a2-e53a-4995-87c0-39510a47bf66/upload.svg)

Планер (или глайдер) — другая наиболее известная фигура из клеток, которая, в отличие от квадрата, постоянно движется:

![rules2](https://yastatic.net/s3/lyceum/content/go/images/game_glider_fast.gif)

Вариантов фигур оказалось так много, что теперь их разделяют на категории. Вот некоторые из них:

- устойчивые (как квадрат)
- двигающиеся
- периодические (время от времени повторяют своё состояние)
- ружья (время от времени «стреляют» планерами)
- паровозы (оставляют след в движении)
- пожиратели (не разрушаются при столкновении с другими фигурами)

## Реализация API

В рамках реализации собственного **API** я подготовил игровую площадку, на которой вы можете ознакомится с этой интересной игрой!

После запуска сервера площадка будет доступна тут:
```
http://127.0.0.1:8080/game
```

### Получение размера мира
[Реализация](https://github.com/KlimenkoKayot/game-of-life-go/blob/main/http/server/handler/handler.go)

```
/api/v1/size
```

Возвращает массив из двух целых чисел - высота и ширина - в формате `JSON`. 


```json
[3, 5]
```

***

### Получение состояния игры
[Реализация](https://github.com/KlimenkoKayot/game-of-life-go/blob/main/http/server/handler/handler.go)

```
/api/v1/state
```

Состояние игры задается двумерным массивом состоящим из чисел целочисленного типа `1` и `0`.

Запрос вернет двумерный массив из единиц и нулей в формате `JSON`:
```json
[[0,1,0,0,1,0], 
 [0,1,0,0,1,0], 
 [0,1,0,0,1,0], 
 [0,1,0,0,1,0], 
 [0,1,0,0,1,0]]
```

***

### Изменение на следующее состояние
[Реализация](https://github.com/KlimenkoKayot/game-of-life-go/blob/main/http/server/handler/handler.go)

```
/api/v1/nextstate
```

Изменяет состояние игры на сервере и возвращает новое

Запрос вернет следующее состояние игры в виде двумерного массива из единиц и нулей в формате `JSON`:
```json
[[0,0,0,0,0,0], 
 [0,1,1,1,1,0], 
 [0,1,1,1,1,0], 
 [0,1,1,1,1,0], 
 [0,0,0,0,0,0]]
```

***

### Переключение состояния клетки
[Реализация](https://github.com/KlimenkoKayot/game-of-life-go/blob/main/http/server/handler/handler.go)

```
/api/v1/toggle?row=1&col=2

row - номер строки
col - номер столбца
```

Инвертирует состояние клетки на `row` строке и `col` столбце

Возвращает состояние текущее состояние клетки (1 или 0) в формате `JSON`:

Для живой клетки:

```json
"1"
```

Для мертвой клетки:

```json
"0"
```

***

### Задать рандомное состояние мира
[Реализация](https://github.com/KlimenkoKayot/game-of-life-go/blob/main/http/server/handler/handler.go)

```
/api/v1/seed?fill=15

fill - шанс оживления мертвой клетки
```

Очищает предыдущее состояние и оживляет каждую клетку с шансем, заданным пользователем.

Возвращает новое состояние игры в формате `JSON`:

```json
[[0,1,0,0,0,1], 
 [0,1,0,1,1,0], 
 [1,0,1,0,1,0], 
 [1,1,0,1,0,1], 
 [0,0,0,1,0,0]]
```

***

### Получение кол-ва соседей клетки

```
/api/v1/neighbours?row=1&col=3

row - номер строки
col - номер столбца
```

Возвращает целочисленное число, являющееся кол-вом соседей клетке находящейся на пересечении `row`-й строки и `col`-о столбца в формате `JSON`.

```json
"3"
```

***

### Получение показателя кол-ва соседей клетки и всех ее соседей

```
/api/v1/near_neighbours?row=3&col=2

row - номер строки
col - номер столбца
```

Возвращает двумерный массив `3x3` состоящий из целых чисел `0`, `1` в формате `JSON`. 

Заданная пользователем клетка в центре массива, вокруг ее соседи.

`0` - клетка мертва

`1` - клетка жива

```json
[[0,1,0], 
 [1,0,1], 
 [1,0,0]]
```

