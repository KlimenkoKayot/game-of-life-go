# API "Игра в жизнь" v0.1

**Игра в жизнь** — это клеточный автомат, придуманный английским математиком **Джоном Конвеем** в **1970** году. Это игра без игроков, где взаимодействие происходит через изменение состояния клеток на двумерной сетке.

![game](https://yastatic.net/s3/lyceum/content/go/images/gun.gif)

---

## Содержание

1. [Описание игры](#описание-игры)
2. [Правила игры](#правила-игры)
3. [Примеры фигур](#примеры-фигур)
4. [Реализация API](#реализация-api)
   - [Получение размера мира](#получение-размера-мира)
   - [Получение состояния игры](#получение-состояния-игры)
   - [Изменение на следующее состояние](#изменение-на-следующее-состояние)
   - [Переключение состояния клетки](#переключение-состояния-клетки)
   - [Задание случайного состояния мира](#задание-случайного-состояния-мира)
   - [Получение количества соседей клетки](#получение-количества-соседей-клетки)
   - [Получение состояния клетки и её соседей](#получение-состояния-клетки-и-её-соседей)
5. [Как собрать и запустить](#как-собрать-и-запустить)
6. [Лицензия](#лицензия)

---

<a name="описание-игры"></a>
## Описание игры

Игра проходит на двумерной сетке, где каждая клетка может быть либо **живой**, либо **мёртвой**. На каждом шаге состояние клеток изменяется в зависимости от количества их соседей.

---

<a name="правила-игры"></a>
## Правила игры

- **Живая клетка** с **двумя или тремя** соседями продолжает жить.
- **Мёртвая клетка** с **тремя** соседями оживает.
- **Живая клетка** погибает, а **мёртвая** остаётся мёртвой, если у них **больше трёх** или **меньше двух** соседей.

Пример:

![rules0](https://yastatic.net/s3/lyceum/files/8db5700a-422a-40e2-b53e-58d0f349e800/upload.svg)

---

<a name="примеры-фигур"></a>
## Примеры фигур

### Устойчивые фигуры (натюрморты)

Эти фигуры остаются неизменными на протяжении всей игры. Например, квадрат 2x2:

![rules1](https://yastatic.net/s3/lyceum/files/ece826a2-e53a-4995-87c0-39510a47bf66/upload.svg)

### Двигающиеся фигуры (планеры)

Планер — это фигура, которая перемещается по полю:

![rules2](https://yastatic.net/s3/lyceum/content/go/images/game_glider_fast.gif)

### Другие категории фигур

- **Периодические**: повторяют своё состояние через определённое время.
- **Ружья**: периодически "стреляют" планерами.
- **Паровозы**: оставляют след при движении.
- **Пожиратели**: не разрушаются при столкновении с другими фигурами.

---

<a name="реализация-api"></a>
## Реализация API

API предоставляет возможность взаимодействовать с игровым полем. После запуска сервера игровая площадка будет доступна по адресу:

```
http://127.0.0.1:8080/game
```

<a name="получение-размера-мира"></a>
### Получение размера мира

**Эндпоинт:**

```
GET /api/v1/size
```

**Ответ:**

Возвращает массив из двух целых чисел: высота и ширина.

```json
[3, 5]
```

---

<a name="получение-состояния-игры"></a>
### Получение состояния игры

**Эндпоинт:**

```
GET /api/v1/state
```

**Ответ:**

Возвращает двумерный массив из `1` (живая клетка) и `0` (мёртвая клетка).

```json
[
  [0, 1, 0, 0, 1, 0],
  [0, 1, 0, 0, 1, 0],
  [0, 1, 0, 0, 1, 0],
  [0, 1, 0, 0, 1, 0],
  [0, 1, 0, 0, 1, 0]
]
```

---

<a name="изменение-на-следующее-состояние"></a>
### Изменение на следующее состояние

**Эндпоинт:**

```
POST /api/v1/nextstate
```

**Ответ:**

Возвращает новое состояние игры.

```json
[
  [0, 0, 0, 0, 0, 0],
  [0, 1, 1, 1, 1, 0],
  [0, 1, 1, 1, 1, 0],
  [0, 1, 1, 1, 1, 0],
  [0, 0, 0, 0, 0, 0]
]
```

---

<a name="переключение-состояния-клетки"></a>
### Переключение состояния клетки

**Эндпоинт:**

```
POST /api/v1/toggle?row=1&col=2
```

**Параметры:**

- `row` — номер строки.
- `col` — номер столбца.

**Ответ:**

Возвращает новое состояние клетки (`1` или `0`).

```json
"1"
```

---

<a name="задание-случайного-состояния-мира"></a>
### Задание случайного состояния мира

**Эндпоинт:**

```
POST /api/v1/seed?fill=15
```

**Параметры:**

- `fill` — шанс оживления клетки (в процентах).

**Ответ:**

Возвращает новое состояние игры.

```json
[
  [0, 1, 0, 0, 0, 1],
  [0, 1, 0, 1, 1, 0],
  [1, 0, 1, 0, 1, 0],
  [1, 1, 0, 1, 0, 1],
  [0, 0, 0, 1, 0, 0]
]
```

---

<a name="получение-количества-соседей-клетки"></a>
### Получение количества соседей клетки

**Эндпоинт:**

```
GET /api/v1/neighbours?row=1&col=3
```

**Параметры:**

- `row` — номер строки.
- `col` — номер столбца.

**Ответ:**

Возвращает количество соседей.

```json
"3"
```

---

<a name="получение-состояния-клетки-и-её-соседей"></a>
### Получение состояния клетки и её соседей

**Эндпоинт:**

```
GET /api/v1/near_neighbours?row=3&col=2
```

**Параметры:**

- `row` — номер строки.
- `col` — номер столбца.

**Ответ:**

Возвращает массив `3x3`, где центральная клетка — заданная пользователем.

```json
[
  [0, 1, 0],
  [1, 0, 1],
  [1, 0, 0]
]
```

---

<a name="как-собрать-и-запустить"></a>
## Как собрать и запустить

1. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/KlimenkoKayot/game-of-life-go
   ```

2. Перейдите в директорию проекта:

   ```bash
   cd game-of-life-go
   ```

3. Запустите сервер:

   ```bash
   go run ./cmd/life/.
   ```

Сервер будет доступен на `http://127.0.0.1:8080`.

---

<a name="лицензия"></a>
## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).
